## Профиль донатера [Страница профиля донатера](https://my-kopilka.ru/profile24)

![empty_profile.png](static/profile_donater/empty_profile.png)

Подготовка: зайдем как донатер

### Положительные кейсы

1. При нажатии на шестеренку всплывает окно статуса 

![status](static/profile_donater/status.png)

При вводе текста состоящего из букв, цифр, символов(любых) ПР: "a2efvs32tg$#t13g" после нажатия
"ок", все сохраняется и отображается рядом с именем без изменений. После нажатия
вне всплывающего окна возврат в профиль.

### Баги в профиле донатера

1. В пустом профиле некорректно отображается поле "пожертвовано" необходимо
  показывать ничего или "0" пользователю.

![bug_donated](static/profile_donater/bug_donated.png)

2. Надпись "Подписки" расположена внизу бокса, а не по центру. 

![bug_empty_subscriptions](static/profile_donater/bug_empty_subscriptions.png)

3. Не подписывается "у вас нет подписок" или "вы еще ни на кого не подписаны".

![bug_empty_subscriptions](static/profile_donater/bug_empty_subscriptions.png)

4. При нажатии вне окна статуса, ничего не происходит. Предполагается закрытие окна, т.к. это
   общепринятое и ожидаемое поведение.

5. Уязвимость при вводе в поле статуса:
```
5sas <img src="image.gif" onerror="alert(123)">df
```
Код исполняется и вставляется в верстку

![vulnerability_status](static/profile_donater/vulnerability_status.png)

А при перезагрузке уже просто как текст:

![vulnerability_status_2](static/profile_donater/vulnerability_status_2.png)

6. При нажатии ок в всплывающем окне статуса более 1 раза, кол-во запросов отправляемых на сервер
за раз начинает расти на 1 с каждым разом (2,3,4...). Должен быть один запрос всегда

![img.png](static/profile_donater/bug_multi_req_status.png)

## Профиль автора [Страница профиля автора](https://my-kopilka.ru/profile26)

![profile-author](static/profile_author/profile-author.png)

Подготовка: зайдем как донатер.

Так как в приложении профиль автора является расширением профиля донатера,
будем тестировать только дополнительную функциональность.

### Положительные кейсы

1.  При нажатии на шестеренку всплывает окно "об авторе". 
Далее при вводе текста состоящего из букв, цифр, символов(любых) ПР: "a2efvs32tg$#t13g" после
нажатия ок, все сохраняется и отображается рядом с именем без изменений. После нажатия
мимо всплывающего окна происходит возврат в профиль.

### Баги профиля автора

1. В профиле отображается надпись "Цели", хотя нет возможности их добавить,
нельзя показывать пользователям функционал, который не работает.

![bug_goals](static/profile_author/bug_goals.png)

2. Отображаются надписи "Лента" и "Медиа", хотя никаких кнопок переключения нет, нужно убрать 

![bug_media.png](static/profile_author/bug_media.png)

3. Баги заполнения поля "об авторе" аналогичные заполнению поля "статус"
  [баги-статуса-в-профиле](#баги-в-профиле-донатера)

## Настройки профиля [Страница настроек](https://my-kopilka.ru/settings)

![settings_profile](static/profile_settings/settings_profile.png)

### Положительные кейсы

1. При нажатии "выбрать файл" и выборе файла формата png, jpg до 10Мб файл начинает отображаться
   в окне редактирования, а после нажатия "сохранить" перенаправляется на основную страницу
профиля, где видно фото (также фото появляется в навбаре)

2. При вводе старого пароля и вводе нового пароля дважды,
удовлетворяющего условиям:
   * 8 или более символов
   * Строчные латинские буквы
   * Заглавные латинские буквы
   * Цифры
   * Специальные символы (#?!@$%^&*-)

пароль успешно меняется и перенаправляется на главную страницу.

3. При изменении логина на удовлетворяющий условиям:
   * Логин должен быть от 3 до 16 символов
   * может содержать только цифры, латинские буквы и символы тире "-" и нижнее подчеркивание "_"

логин успешно меняется и перенаправляется на страницу профиля.

### Негативные кейсы

1. Загружая фото профиля, при выборе файла расширения не png или jpg внизу страницы появляется
сообщение об ошибке.

![error_wrong_format_file](static/profile_settings/error_wrong_format_file.png)

2. Загружая фото профиля, при выборе файла > 10 Mb появляется внизу сообщение об ошибке.

3. При отправке нового пароля, не удовлетворяющего требованиям выше, появляется
     сообщение об ошибке.

![err_message_requirements_pass](static/profile_settings/err_message_requirements_pass.png)

4. При отправке несовпадающих новых паролей появляется соответствующее сообщение об ошибке.

![err_message_passwords_not_equal](static/profile_settings/err_message_passwords_not_equal.png)

5. При отправке совпадающих новых и старого пароля появляется сообщение об ошибке.

![err_message_same_pass](static/profile_settings/err_message_same_pass.png)

6. При вводе логина, неудовлетворяющего условиям:
  * Логин должен быть от 3 до 16 символов
  * может содержать только цифры, латинские буквы и символы тире "-" и нижнее подчеркивание "_"

появляется сообщение с требованиями для логина.

### Баги настроек профиля

1. Уязвимость. При выборе файла другого формата, но с измененным расширением на png или jpg
  файл успешно загружается.
  Пример: исполняемый файл с расширением png
2. При отправке неправильного или пустого поля "старый пароль", перенаправляется на страницу
профиля без сообщения об ошибке.
3. При вводе логина, неудовлетворяющего условиям выше, не выводится ошибка с требованиями к логину:

![bug_login_wrong](static/profile_settings/bug_login_wrong.png)

## Пост (создание, изменение, удаление)

Подготовка: зайдем как автор

### Положительные кейсы

1. После нажатия на кнопку "Новый пост" в [профиле](https://my-kopilka.ru/profile26) 
появляется форма создания поста.

![post_creation.png](static/post_crud/post_creation.png)

При корректном заполнении поста (заполнен заголовок, текст,
корректные форматы файлов[фото png, jpeg], видео[mp4], аудио[mp3], файлы (без ограничений),
общем объеме вложений до 100Мб и выборе одного из уровней подписки)
пост создается и после перенаправления на профиль мы видим свой пост в ленте.

2. После нажатия на кебаб-меню у поста появляется выбор "редактировать пост".

![kebab-menu-post.png](static/post_crud/kebab-menu-post.png)

После прикрепления любого вложения (фото, видео...) оно отображается с надписью снизу удалить,
  и после нажатия на эту кнопку вложение пропадает.

![img.png](static/post_crud/button_delete_on_attachment.png)

3. После нажатия на кебаб-меню у поста появляется выбор "удалить пост". И после нажатия на нее
пост пропадает

### Негативные кейсы

1. В создании поста при вводе пустого заголовка или текста поста появляется сообщение об ошибке.

![err_message_empty_desc_or_title](static/post_crud/err_message_empty_desc_or_title.png)

2. В создании поста, если не выбрать уровень подписки, то появляется сообщение об ошибке.

![err_message_level_subscribe](static/post_crud/err_message_level_subscribe.png)

3. В создании поста, при добавлении общего объема файлов, превышающих 100 Мб 
появляется сообщение об ошибке.

![err_message_to_big_attachmets](static/post_crud/err_message_to_big_attachmets.png)

Ввиду проверки негативных кейсов тут через создание, через редактирование их проверять не будем.

### Баги поста(создание, изменение, удаление)

1. Если перетянуть фото в редакторе поста, то оно продублируется (без кнопки удалить)

![bug_photo_attachment](static/post_crud/bug_photo_attachment.png)

А после публикации фото уже одно

![bug_photo_attachment_2](static/post_crud/bug_photo_attachment_2.png)

### Навбар\Хедер

### Положительные кейсы

1. Без авторизации. При нажатии "войти" переходит на форму входа https://my-kopilka.ru/login.
2. Без авторизации. При нажатии "регистрация" переходит на форму регистрации https://my-kopilka.ru/register.

3. После авторизации. При нажатии на "поиск автора" всплывают подсказки

![img.png](static/navbar/tips_search.png)

По ходу ввода имени происходит уточнение, а после нажатия перенаправляется на страницу автора.

4. После авторизации. При нажатии на иконку\аватарку дропдаун-меню показывает содержимое. А далее
при выборе "Мой профиль" перенаправляется на мой профиль https://my-kopilka.ru/profile26
5. После авторизации. При нажатии на иконку\аватарку дропдаун-меню показывает содержимое. А далее
   при выборе "Настройки аккуанта" перенаправляется на настройки https://my-kopilka.ru/settings
6. После авторизации. При нажатии на иконку\аватарку дропдаун-меню показывает содержимое. А далее
   при выборе "Аналитика" перенаправляется на статистику https://my-kopilka.ru/statistic
7. После авторизации. При нажатии "выйти" перенаправляется на форму входа
https://my-kopilka.ru/login

### Баги навбара/хедера

1. Смещенное положение иконки автора на центр В Firefox 123.0 (64-bit)

![bug_avatar_positon](static/navbar/bug_avatar_positon.png)

### Лента на главной странице [Страница ленты](https://my-kopilka.ru/feed)

Подготовка: зайти как донатер и подписаться на двух авторов

### Положительные кейсы 

1. Посты обоих авторов отображаются в ленте 

### Баги ленты

1. В ленте в запросе постов приходят все посты с датой создания
0001.01.01 00:00 и соответственно не в правильном порядке отображаются.

![bug_date_time_in_post](static/feed/bug_date_time_in_post.png)

хотя при переходе в ленту отдельного автора даты корректно отображаются 

![img.png](static/feed/bug_date_time_in_post_2.png)

2. В постах в ленте отображаются значки "комментирования" и "переслать", выглядят как кнопки, но при 
нажатии ничего не происходит. 

![bug_buttons_post.png](static/feed/bug_buttons_post.png)

## Авторизация [Страница авторизации]([https://my-kopilka.ru/login])

![img.png](static/authorization/login.png)

### Положительные кейсы

1. При вводе верных логина и пароля уже существующего пользователя открывается страница профиля, в навбаре появляется кнопка "Выйти", кнопки настроек профиля, поиск.
2. При нажатии на кнопку "Зарегистрироваться" происходит переход на страницу регистрации.
3. При нажатии на кнопку "Показать пароль", пароль показывается.

![img.png](static/authorization/showPass.png)

### Негативные кейсы

1. При вводе неверного пароля при верном логине получаем сообщение "Неправильный логин или пароль".

![img.png](static/authorization/worngPass.png)

2. При вводе несуществующего логина получаем сообщение "Неправильный логин или пароль".
3. При вводе только логина без пароля получаем сообщение "Неправильный логин или пароль".
4. При вводе только пароля без логина получаем сообщение "Неправильный логин или пароль".

### Баги
1. При нажатии на кнопку "Забыли пароль?" вылетает ошибка 404. 

![img.png](static/authorization/404.png)

## Регистрация

[Страница регистрации]([https://my-kopilka.ru/register])

![img.png](static/registration/registration.png)

### Положительные кейсы 

1. При вводе корректного логина и пароля, выборе статуса "Донатер", и нажатии кнопки "Зарегистрироваться", открывается страница профиля, в навбаре появляется кнопка "Выйти", кнопки настроек профиля, поиск.
2. При вводе корректного логина и пароля, выборе статуса "Автор", и нажатии кнопки "Зарегистрироваться", открывается страница профиля, в навбаре появляется кнопка "Выйти", кнопки настроек профиля, поиск.

### Негативные кейсы

1. При пустом вводе (не ввели ни логин, ни пароль) и нажатии кнопки "Зарегистрироваться" получаем сообщение "Логин должен быть от 3 до 16 символов и может содержать только цифры, латинские буквы и - _.", так же происходит верная валидация пустого пароля, требования к паролю верно подсвечиваются.

![img.png](static/registration/regWrongLogin.png)

2. При вводе пустого логина и корректного пароля и нажатии кнопки "Зарегистрироваться" получаем сообщение "Логин должен быть от 3 до 16 символов и может содержать только цифры, латинские буквы и - _."
3. При вводе корректного логина и корректного пароля, но пустом поле "Повторите пароль" получаем сообщение "Пароли не совпадают"

![img.png](static/registration/differentPass.png)

4. При вводе корректного логина отстутствии пароля в поле "Пароль", но введенном пароле в поле "Повторите пароль" получаем сообщение "Пароли не совпадают"
5. При вводе пароля короче 8 символов получаем сообщение "Пароль должен быть длиннее 8 символов и содержать буквы разных регистров, цифры и специальные символы."

![img.png](static/registration/regWrongPass.png)

6. При вводе пароля без строчных латинских букв получаем сообщение "Пароль должен быть длиннее 8 символов и содержать буквы разных регистров, цифры и специальные символы."
7. При вводе пароля без заглавных латинских букв получаем сообщение "Пароль должен быть длиннее 8 символов и содержать буквы разных регистров, цифры и специальные символы."
8. При вводе пароля без цифр получаем сообщение "Пароль должен быть длиннее 8 символов и содержать буквы разных регистров, цифры и специальные символы."
9. При вводе пароля без специальных символов (#?!@$%^&*-) получаем сообщение "Пароль должен быть длиннее 8 символов и содержать буквы разных регистров, цифры и специальные символы."
10. При вводе пароля из 8 и более символов, содержащий латинские строчные и заглавные буквы, цифры и спец. символы, но кроме этого что то еще получаем сообщение "Пароль должен быть длиннее 8 символов и содержать буквы разных регистров, цифры и специальные символы."

![img.png](static/registration/regWrongPass2.png)

## Комментарии

![img.png](static/comments/comments.png)

Предварительно авторизуемся, перейдем на страниницу какого либо автора, перейдем на страницу автора Barinov.

### Положительные кейсы 

1. Выберем пост, который мы будем комментировать, введем комментарий в поле "Оставьте комментарий" и нажем кнопку, чтобы оставить комментарий. Комментарий успшено оставлен.

![img.png](static/comments/newComment.png)

2. Попробуем удалить комментарий. Выберем написанный комментарий и нажмем кнопку "Удалить комментарий"

![img.png](static/comments/delComment.png)

Комментарий успешно удален.

### Негативные кейсы 

1. Попробуем оставить пустой комментарий. Нажмем кнопку, чтобы оставить комментарий, не вводя никакого текста. Получаем сообщение "Комментарий не может быть пустым".

![img.png](static/comments/emptyComment.png)

### Баги 

1. Введем длинный комментарий, явно больше ширины одного экрана. Оставим этот комментарий. Комментарий отображается некорректно, он оставляется в одну строку без переноса.

![img.png](static/comments/bugComments.png)

## Лайки

Предварительно авторизуемся, перейдем на страниницу какого-либо автора, перейдем на страницу автора Barinov.

### Положительные кейсы 

1. Выберем пост, который будем лайкать, нажем на кнопку лайка. Лайк успешно оставлен. 

![img.png](static/likes/like.png)

2. Попробуем убрать оставленный лайк, нажмем на кнопку лайка. Лайк успешно убран.

## Донаты

### Положительные кейсы

1. Вводится сумма больше десяти, пишется непустое сообщение, подтверждается оплата, донат приходит автору в течении минуты
2. Вводится сумма больше десяти, пустое сообщение, подтверждается оплата, донат приходит автору в течении минуты

![img.png](static/donates/donateFormCorrect.png)
![img.png](static/donates/zeroSumDonate.png)
![img.png](static/donates/earnedSumDonate.png)

### Негативные кейсы

1. Вводится сумма меньше десяти, высвечивается ошибка

![failDonate](static/donates/failDonate.png)

2. Вводится отрицательная сумма, высвечивается ошибка

![failDonate](static/donates/failDonate.png)

3. Вводится сумма больше десяти, пишется любое сообщение, оплата не подтверждается, донат не приходит

### Баги

1. Сообщения, отправляемые пользователями в донатах, никак не отображаются ни автору, ни донатеру

## Подписки 

### Положительные кейсы

1. При нажатии кнопки "Отслеживать"

- Кнопка меняется на "Перестать отслеживать"
- Увеличивается счетчик подписчиков на 1

![img.png](static/subs/zeroFollow.png)
![img.png](static/subs/unfollowBtn.png)

2. При нажатии кнопки "Перестать отслеживать" подписка пропадает:
 - Кнопка меняется на "Отслеживать"
 - Уменьшается счетчик подписчиков на 1
3. При нажатии любой кнопки "Подписаться" происходит редирект на страницу оплаты, оплата подтверждается:

- осуществляется подписка выбранной категории в течении минуты
- Автору приходят деньги за подписку в течении минуты
- Увеличивается счетчик подписчиков на 1

![img.png](static/subs/subscribeBtn.png)

6. При нажатии кнопки "Перестать отслеживать" при платной подписки:
- Уменьшается счетчик подписчиков на 1
- Подписка пропадает
- Деньги перестают приходить автору

7. При нажатии кнопки "Отписаться" при платной подписки:
- Уменьшается счетчик подписчиков на 1
- Подписка пропадает
- Деньги перестают приходить автору

### Баги

1. Для некоторых авторов в какой-то момент перестают работать подписки.
После совершения подписки, интерфейс остается таким, будто подписки нет,
счетчик подписчиков застывает на 1, однако если перейти в ленту, то можно заметить,
что посты отслеживаются.

![img.png](static/subs/devToolsSub.png)

![img.png](static/subs/devToolsAuthor.png)

![img.png](static/subs/feed.png)

## Аналитика

### Положительные кейсы:

![img.png](static/analytics/defaultAnalytic.png)

1. Подписаться на автора, числа в статистиках по подпискам автора в течение минуты увеличатся на 1
2. Отписаться от автора, числа в статистиках по подпискам автора в течение минуты уменьшатся на 1
3. Создать пост, числа в статистиках по постам автора в течение минуты увеличатся на 1
4. Удалить пост, числа в статистиках по постам автора в течение минуты уменьшатся на 1
5. Поставить лайк, числа в статистиках по лайкам автора в течение минуты увеличатся на 1
6. Убрать лайк, числа в статистиках по лайкам автора в течение минуты уменьшится на 1
7. Оставить комментарий, число в статистиках по комментариям в течение минуты увеличится на 1
8. Убрать комментарий, число в статистиках по комментариям в течение минуты уменьшится на 1
9. Отправить донат, число в статистиках по количеству донатов в течение минуты увеличатся на 1
10. Отправить донат, число в статистиках по сумме донатов в течение минуты увеличатся на сумму доната
11. Оформить платную подписку, число в статистике по сумме заработанного увеличивается каждую минуту на стоимость подписки


### Баги

1. Можно открыть аналитику будучи залогиненым как донатер, что как будто бы не имеет смысла

## Теги

### Положительные кейсы

Подготовка: зайдем как автор

1. **Создание поста с одним тегом**: 

![oneTagCheck](static/tags/oneTagCheck.png) 

**Результат**: создается пост с одним тегом, который виден автору:

![oneTagResult](static/tags/oneTagResult.png)

2. **Создание поста с несколькими тегами**:

![muchTagsCheck](static/tags/muchTagsCheck.png)

**Результат**:

![muchTagsResult](static/tags/muchTagsResult.png)

3. **Добавим много пробелов в названии тега**:

![oneTagSpaceCheck](static/tags/oneTagSpaceCheck.png)

**Резльтат** (отображается без лишних пробелов):

![oneTagSpaceCheck](static/tags/oneTagSpaceCheck.png)

4. **Производим переход по тегу**:

![goToTagCheck](static/tags/goToTagCheck.png)

**Результат**:

![goToTagResult](static/tags/goToTagResult.png)

5. **Регистрируемся или автроризуемся за донатера, пытаемся посмотреть его ленту по тегу**:

![findTagCheck](static/tags/findTagCheck.png)

**Результат**:

![findTagResult](static/tags/findTagResult.png)

### Баги Тегов

1. **Неправильная дата в ленте по тегам**:

![badDateBug](static/tags/badDateBug.png) 

2. **Недетерминированный порядок тегов в посте (скорее недостаток), пример до и после перезагрузки страницы**:

![wrongOrderTags1](static/tags/wrongOrderTags1.png) 

![wrongOrderTags2](static/tags/wrongOrderTags2.png)

3. **Не отображается список постов по тегу у донатера в ленте постов по тегу при нажатии на тег**:

![wrongSearch1](static/tags/wrongSearch1.png)

![wrongSearch2](static/tags/wrongSearch2.png)

